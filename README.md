# Request Peanuts

Simple peanut server that allows you to request payments from your friends.

## Endpoints:

### POST /request

Request a payment from a friend.

#### Request Body

```json
{
    "address": "",
	"chainId": "",
	"tokenAddress": "",
	"amount": 
}
```

#### Response

```json
{
	"link": ""
}
```

#### Curl Example

Use iy direcly or import it to Postman/Insomnia.

```bash
curl --request POST \
  --url https://apipeanut.mucu.dev/request \
  --header 'Content-Type: application/json' \
  --data '{
	"address": "",
	"chainId": "",
	"tokenAddress": "",
	"amount": ""
}'
```


### POST /pay

Pay a friend.

#### Request Body

`requestId` is the id generated by the `/request` endpoint.
`url` is a peanut link for the same chain and token.

```json
{
    "requestId": "",
	"url": "",
}
```

#### Response

```json
{
	"txHash": ""
}
```

#### Curl Example

Use it direcly or import it to Postman/Insomnia.

```bash
curl --request POST \
  --url https://apipeanut.mucu.dev/pay \
  --header 'Content-Type: application/json' \
  --data '{
	"requestId": "",
	"url": "",
}
```


## Getting Started

### Prerequisites

- Access to a postgres database

### Install dependencies

```bash
pnpm i
cp .env.example .env
```

Fill in the .env file with the correct values.

### Build

```bash
pnpm build
```

### Run the server

```bash
pnpm start
```
